# Phase 2 Operational Summary

## Date
- 2026-03-01

## Objective
- Operationalize cost-based threshold optimization with explicit guardrails.
- Ensure inference consumes versioned policy artifacts instead of hardcoded thresholds.
- Enforce a promotion gate that blocks non-feasible policies.

## Selected Policy
- Profile: `phase2_guarded`
- Calibration method: `none`
- Thresholds:
  - `approve`: score < `0.2000`
  - `review`: `0.2000 <= score < 0.8000`
  - `decline`: score >= `0.8000`
- Source artifact: `models/policy_config.json`

## Guardrails
- Max review rate: `10.00%`
- Min flagged fraud capture: `85.00%`
- Max decline FPR: `2.00%`

## Selected Policy Performance (Evaluation Split)
- Review rate: `5.16%`
- Flagged fraud capture: `86.36%`
- Decline FPR: `0.33%`
- Guardrail status: `PASS`

## Promotion Gate
- Command:
  - `python src/cost_policy_optimization.py --data-path data/creditcard.csv --require-feasible`
- Result: `PASS`
- Behavior:
  - Exits non-zero when no guardrail-feasible policy exists.
  - Prevents unsafe policy promotion in CI/CD.

## Inference Consumption Check
- Command:
  - `python src/inference.py --input-path data/creditcard.csv --model-path models/week2_best_logreg.joblib --policy-profile phase2_guarded --policy-config-path models/policy_config.json`
- Resolved thresholds:
  - Approve threshold: `0.200000`
  - Decline threshold: `0.800000`
- Decision counts:
  - approve: `260270`
  - review: `22237`
  - decline: `2300`

## Operational Notes
- `primary` and `fallback` remain available as policy profiles.
- `phase2_guarded` is now generated by Phase 2 optimization and tracked in `models/policy_config.json`.
- CI policy gate step is conditional on dataset availability in `.github/workflows/tests.yml`.
